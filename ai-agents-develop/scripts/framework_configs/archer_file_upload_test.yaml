

framework_id: upload_test_archer
framework_name: Archer File Upload Test Framework
framework_description: Auditing for GHCO.

execution:
  auto_create: true
  name: 2025 Oct
  type: On Demand

controls:

  - name: Test Archer File Upload
    instructions: Test Archer file upload functionality.

    action_list:
      - action_name: Google Drive File Downloader
        action_prototype_name: SupervisorAgent
        order: 0
        control_variables:
          tools:
            value_type: primitive
            value:
              - google_drive_mcp_tool
          task_description:
            value_type: primitive
            value: |
              Download the file 1zirCS15PrjfgECJivlXnkmJjMB-uNWwY from Google Drive

              google_token: {"token": "ya29.a0AQQ_BDRDJqd61z9x9BYtRt-2K6xVevtNx4h0fOzqmVNcP1OyC1jspe4bG47T7F4FHbYuT2KppT2TgMN1YW2sDZ0gicpSoa_dQ6Y5reGb3b-5IVZOFMCtC2cx49CQ0unkIJkwY869IVfMu2KSTlS5F_1br2mfFFYlO8NWbmTlhflSXAwthtfc1y7wcEIFuSlN1NO9fZQaCgYKAS0SARMSFQHGX2MicuYeQlatb19qxsldUmD5lQ0206", "refresh_token": "1//06xkteEm7bKz9CgYIARAAGAYSNwF-L9IrarZzXtBYChhd4-9ysfYnysMSS6SnzCkD0SJLqmpx2pAEQD9myUpaARh3ifCbzyzIPWg", "token_uri": "https://oauth2.googleapis.com/token", "client_id": "256180252332-lmi76ahdrch1junvlrf1l6876eevagad.apps.googleusercontent.com", "client_secret": "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", "scopes": ["https://www.googleapis.com/auth/gmail.readonly", "https://www.googleapis.com/auth/gmail.modify", "https://www.googleapis.com/auth/drive", "https://www.googleapis.com/auth/spreadsheets"], "universe_domain": "googleapis.com", "account": "", "expiry": "2025-09-19T20:13:14Z"}
        independent_variable_schema:
          additional_description:
            value_type: args
            args_schema:
              type: string
              example: "Today is ..."
              description: Primary task description for the setup tool agent



      - action_name: Archer File Upload Tester
        action_prototype_name: SupervisorAgent
        order: 1
        control_variables:
          tools:
            value_type: primitive
            value:
              - browser_tool
          task_description:
            value_type: primitive
            value: |
              Your tasks:
              1. Create a request to the BU asking for evidences, you should upload the User List excel from the previous step. Always use full path.

              Config:
              homepage_url: https://ghco-dev.archerirm.us/apps/ArcherApp/Home.aspx
              username: AIAuditor2
              password: f8HK2!9L

              When creating requests:
              - Use the provided template and fill in the values
              - Extract and record tracking IDs for the request
                Template for giving browser_tool a task:
                  <template>
                      Target Business Unit: "{config.target_business_unit}"
                      Home page: {config.homepage_url}

                      Navigate to the home page and wait for 8 seconds for the page to load.

                      Steps to reach I.T. Assessments page:
                      (1) Navigate to 'Filter' input field on the left.
                      (2) Input text 'I.T. Assessments (2022 - forward)' to field 'Filter'.
                      (3) Click "I.T. Assessments (2022 - forward)" under "ITGC 2024"

                      Under the first column Assessment of the table, you can find the clickable cells for different business unit. The names are in <Year> (<Season>) - <Business Unit>
                      Find the one for the target business unit and click it.

                      After going into the specific page, there is a button Add New, click it to create a new request.
                      Fill the form with the following 6 entries:
                      {{
                          "Test Period": "Interim"
                          "Control Area": "AC02"
                          "Request Description": "New and updated User Sample
              Please provide evidence showing the request, approval and provisioning for the attached list of users."
                          "Date Due": <1 week from today (date are usually in MM/DD/YYYY format)>
                          "Requested by": "agent, AI Auditor" (You need to search the name using the UI)
                          "BU Contact(s)": "{config.bu_contact}"
                      }}
                      Upload the file located at {file_path} as Interim Evidence.
                      Click Save button.
                      Upon successful save, Tracking ID would be shown on the page, write it down.
                  </template>
        independent_variable_schema:
          additional_description:
            value_type: args
            args_schema:
              type: string
              example: "Today is ..."
              description: Primary task description for the Archer File Upload Tester agent

    entities:
      - name: "FileUploadTest"
        independent_variables:
          - additional_description: ""
          - additional_description: |-
              Home Page: https://ghco-dev.archerirm.us/apps/ArcherApp/Home.aspx
              Target Business Unit: "2025 Q4 Cable Division: Cable ONE"
              BU Contact: agent, AI BU
              Software list: BPCS, MRO, GDIHQ, Windows
